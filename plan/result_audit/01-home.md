# Аудит: Главная страница

## Общая информация
- **Путь:** /
- **Файл:** frontend/src/app/page.tsx
- **Компоненты:** SeasonalHero.tsx, QuickSearchForm.tsx
- **Статус:** Требует внимания

---

## Функциональность

### Рендеринг компонентов
- **OK:** Все компоненты рендерятся корректно
- **OK:** Страница использует `"use client"` для интерактивных анимаций (framer-motion)
- **OK:** SeasonalHero загружает сезонный контент через API

### Обработка ошибок
- **OK:** SeasonalHero имеет try-catch и fallback на defaultData при ошибке API
- **ПРОБЛЕМА:** Главная страница использует статические данные (tyreCategories, featuredTyres, articles) вместо данных из CMS
- **ПРОБЛЕМА:** Нет обработки ошибок для статических данных (если бы они загружались из API)

### API вызовы
- **OK:** getSeasonalContent() корректно вызывается в SeasonalHero
- **ПРОБЛЕМА:** Популярные шины (featuredTyres) захардкожены, хотя есть API `getPayloadFeaturedTyres()`
- **ПРОБЛЕМА:** Статьи (articles) захардкожены, хотя есть API `getPayloadArticles()`
- **ПРОБЛЕМА:** QuickSearchForm не выполняет реальный поиск - кнопки имеют `type="button"` и не переходят на страницу результатов

---

## UX/UI

### Loading States
- **OK:** SeasonalHero показывает анимацию pulse при загрузке заголовка
- **ПРОБЛЕМА:** Нет loading state для карточек Features, Categories, Popular, Articles
- **ПРОБЛЕМА:** Нет skeleton loaders для контента

### Empty States
- **ПРОБЛЕМА:** Нет empty state если tyreCategories, featuredTyres или articles пустые
- **ПРОБЛЕМА:** Нет fallback UI если QuickSearchForm не может отобразить опции

### Error States
- **ЧАСТИЧНО:** SeasonalHero показывает default данные при ошибке (скрытая обработка)
- **ПРОБЛЕМА:** Нет видимого error state для пользователя
- **ПРОБЛЕМА:** Нет retry механизма при ошибке загрузки

### Responsive Design
- **OK:** Grid адаптируется: `grid-cols-1 → md:grid-cols-2 → lg:grid-cols-4`
- **OK:** Padding и spacing корректно масштабируются
- **OK:** QuickSearchForm колонки адаптируются: `grid-cols-3` для размеров
- **ПРОБЛЕМА:** На очень узких экранах (<375px) QuickSearchForm может выглядеть сжато

### Интерактивность
- **OK:** Framer-motion анимации при появлении элементов
- **OK:** Hover эффекты на кнопках и карточках
- **ПРОБЛЕМА:** Кнопки "Перейти", "Детальніше", "Знайти дилера" не имеют реальных href/onClick
- **ПРОБЛЕМА:** CTA кнопки "Отримати консультацію", "Зателефонувати" не функциональны

---

## i18n (Локализация)

### Захардкоженный текст на украинском

#### page.tsx (главная страница)
```
Літні шини, Зимові шини, Всесезонні шини
Для теплої пори року, оптимальні для сухого та мокрого асфальту
Максимальне зчеплення на снігу та льоду в зимових умовах
Компромісне рішення для помірного клімату без екстремальних умов
Bridgestone Turanza T005, Blizzak LM005, Weather Control A005
Літня • Легковий авто, Зимова • Легковий / SUV, Всесезонна • Легковий авто
4.8, 4.9, 4.7 (рейтинги)
Як обрати шини для міста та траси
Як читати маркування шин: повний гід
Коли змінювати сезонні шини в Україні
4 хвилини читання, 6 хвилин читання, 3 хвилини читання
Поради, Освіта, Сезонність
Безпека на першому місці, Економія палива, Експертна підтримка, Глобальна якість
Чому обирають Bridgestone
Шини за сезоном
Популярні моделі шин
Корисна інформація та поради
Потрібна допомога у виборі?
Перейти, Детальніше, Знайти дилера, Читати статтю
Отримати консультацію, Зателефонувати
```

#### SeasonalHero.tsx
```
Шини Bridgestone, Офіційний представник в Україні
Сезон літніх шин, Сезон зимових шин
Офіційний сайт шин Bridgestone в Україні
Технічний контроль на кожному кілометрі
літні, зимові та всесезонні шини під ваш стиль водіння
Підбір шин за параметрами авто, типорозміром та сценаріями використання
Пошук шин за розміром та маркою авто
Каталог літніх, зимових та всесезонних шин
Карта офіційних дилерів та партнерів
Поради щодо вибору та експлуатації шин
Готові до літнього сезону, Готові до зимового сезону, Готові до будь-якої погоди
Літні шини для комфортних поїздок містом та трасою
Зимові шини для надійного зчеплення на снігу та льоду
Місто, траса чи зима — оберіть шини під свої маршрути
Переглянути каталог
```

#### QuickSearchForm.tsx
```
Швидкий пошук шин
Виберіть спосіб пошуку: за розміром або за вашим автомобілем
За розміром, За авто
Ширина, Висота профілю, Діаметр, Сезонність
Оберіть, Не важливо, Літні, Зимові, Всесезонні
Знайти шини, Підібрати шини
Марка авто, Модель, Рік випуску, Тип шини
Оберіть марку, Оберіть модель, Рік
BMW, Mercedes-Benz, Toyota, Volkswagen
3 Series, C-Class, Corolla
2015, 2018, 2020, 2023
Пізніше пошук буде підключено до каталогу шин Bridgestone
```

### Рекомендации по i18n
1. Создать файл `messages/uk.json` с ключами для всех текстов
2. Использовать библиотеку next-intl или react-i18next
3. Перенести все hardcoded строки в translations
4. Данные о шинах (названия, описания) должны приходить из CMS с поддержкой локализации

---

## Accessibility

### ARIA-атрибуты
- **OK:** Кнопка меню имеет `<span className="sr-only">Меню</span>`
- **ПРОБЛЕМА:** Кнопки без aria-label: "Перейти", "Детальніше", "Знайти дилера"
- **ПРОБЛЕМА:** Карточки не имеют role="article" или подобного
- **ПРОБЛЕМА:** Секции не имеют aria-labelledby для заголовков
- **ПРОБЛЕМА:** QuickSearchForm select элементы не связаны с label через id/htmlFor

### Keyboard Navigation
- **ЧАСТИЧНО:** Нативные button и Link элементы доступны с клавиатуры
- **ПРОБЛЕМА:** Нет видимого focus ring на многих элементах (особенно карточки)
- **ПРОБЛЕМА:** Tab order может быть нелогичным из-за grid layout
- **ПРОБЛЕМА:** Dropdown меню в header не ловит focus trap

### Screen Reader Support
- **ПРОБЛЕМА:** Декоративные иконки (Lucide) не имеют aria-hidden="true"
- **ПРОБЛЕМА:** Рейтинги шин (4.8, 4.9) не озвучиваются осмысленно
- **ПРОБЛЕМА:** Framer-motion анимации могут вызывать проблемы у пользователей с motion sensitivity
- **ПРОБЛЕМА:** Нет `prefers-reduced-motion` media query для анимаций

### Контраст и читаемость
- **OK:** Темная тема с высоким контрастом для основного текста
- **ПРОБЛЕМА:** Некоторые muted-foreground тексты могут не проходить WCAG AA (4.5:1)

---

## Найденные проблемы

### Критические
1. **Кнопки не функциональны** - "Перейти", "Детальніше", "Знайти дилера", "Читати статтю", "Отримати консультацію", "Зателефонувати" не имеют обработчиков или href
2. **QuickSearchForm не выполняет поиск** - форма не отправляет данные и не переходит на страницу результатов

### Важные
3. **Данные захардкожены** - featuredTyres и articles должны загружаться из Payload CMS
4. **Отсутствуют loading/error states** - для основного контента страницы
5. **i18n не реализован** - весь текст захардкожен на украинском
6. **Accessibility проблемы** - отсутствуют aria-атрибуты, focus states, screen reader support

### Средние
7. **Select в QuickSearchForm** - опции захардкожены (ширина, профиль, диаметр, марки авто)
8. **Нет prefers-reduced-motion** - анимации могут вызывать дискомфорт
9. **Нет empty states** - если данные пустые, UI не информирует пользователя

---

## Рекомендации

### Приоритет 1 (Критично)
1. **Связать кнопки с маршрутами:**
   - "Перейти" в категориях → `/passenger-tyres?season={summer|winter|allseason}`
   - "Детальніше" для шин → `/shyny/{slug}`
   - "Знайти дилера" → `/dealers`
   - "Читати статтю" → `/advice/{slug}`
   - "Отримати консультацію" → модальное окно или `/contacts`
   - "Зателефонувати" → `tel:0800123456`

2. **Реализовать поиск в QuickSearchForm:**
   ```tsx
   const handleSearch = () => {
     const params = new URLSearchParams({ width, aspectRatio, diameter, season });
     router.push(`/tyre-search?${params.toString()}`);
   };
   ```

### Приоритет 2 (Важно)
3. **Загружать данные из CMS:**
   ```tsx
   const featuredTyres = await getPayloadFeaturedTyres(3);
   const articles = await getPayloadArticles({ limit: 3 });
   ```

4. **Добавить loading states:**
   ```tsx
   {isLoading ? <SkeletonCard /> : <TyreCard tyre={tyre} />}
   ```

5. **Добавить aria-атрибуты:**
   ```tsx
   <section aria-labelledby="features-heading">
     <h2 id="features-heading">Чому обирають Bridgestone</h2>
   ```

6. **Добавить focus styles:**
   ```css
   .card:focus-visible {
     outline: 2px solid var(--primary);
     outline-offset: 2px;
   }
   ```

### Приоритет 3 (Улучшения)
7. **Реализовать i18n** с next-intl
8. **Добавить prefers-reduced-motion:**
   ```tsx
   const prefersReducedMotion = useReducedMotion();
   <motion.div animate={prefersReducedMotion ? {} : { opacity: 1 }}>
   ```

9. **Загружать опции для селектов из API** (ширина, профиль, диаметр, марки авто)

10. **Добавить Schema.org разметку** для SEO:
    ```tsx
    <script type="application/ld+json">
      {JSON.stringify({
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Bridgestone Ukraine"
      })}
    </script>
    ```

---

## Файлы для изменения

| Файл | Изменения |
|------|-----------|
| `frontend/src/app/page.tsx` | Загрузка данных из CMS, связывание кнопок, aria-атрибуты |
| `frontend/src/components/SeasonalHero.tsx` | i18n ключи, prefers-reduced-motion |
| `frontend/src/components/QuickSearchForm.tsx` | Реальный поиск, динамические опции, accessibility |
| `frontend/src/lib/api/payload.ts` | Возможно добавить endpoint для опций поиска |

---

*Дата аудита: 2026-01-10*
