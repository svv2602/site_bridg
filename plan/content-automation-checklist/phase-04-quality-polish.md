# Ğ¤Ğ°Ğ·Ğ° 4: Quality & Polish

## Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ
- [x] ĞĞµ Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ñ‡Ğ°Ñ‚Ğ°
- [ ] Ğ’ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ–
- [ ] Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°

**Ğ Ğ¾Ğ·Ğ¿Ğ¾Ñ‡Ğ°Ñ‚Ğ°:** -
**Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°:** -

## Ğ¦Ñ–Ğ»ÑŒ Ñ„Ğ°Ğ·Ğ¸
Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¸ ÑĞºĞ¾ÑÑ‚Ñ–, Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³, ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ĞµĞºĞ¾Ğ½Ğ¾Ğ¼Ñ–Ñ— Ğ¿Ğ°Ğ»Ğ¸Ğ²Ğ° Ñ‚Ğ° Ñ„Ñ–Ğ½Ğ°Ğ»ÑŒĞ½Ğ° Ğ¿Ğ¾Ğ»Ñ–Ñ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸.

## ĞŸĞ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½Ñ– Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ¸
- âœ… Phase 1, 2, 3 Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ñ–
- Automation pipeline Ğ¿Ğ¾Ğ²Ğ½Ñ–ÑÑ‚Ñ Ğ¿Ñ€Ğ°Ñ†ÑÑ”
- Telegram notifications Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²Ğ°Ğ½Ñ–
- Cron scheduler Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ¸Ğ¹

## Ğ—Ğ°Ğ´Ğ°Ñ‡Ñ–

### 4.0 ĞĞ‘ĞĞ’'Ğ¯Ğ—ĞšĞĞ’Ğ: ĞĞ½Ğ°Ğ»Ñ–Ğ· Ñ‚Ğ° Ğ¿Ğ»Ğ°Ğ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ

#### A. ĞĞ½Ğ°Ğ»Ñ–Ğ· Ñ–ÑĞ½ÑƒÑÑ‡Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ñƒ
- [ ] ĞŸĞµÑ€ĞµĞ³Ğ»ÑĞ½ÑƒÑ‚Ğ¸ Ğ²ÑÑ– Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ
- [ ] ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ Ğ´Ğµ Ğ¼Ğ¾Ğ¶ÑƒÑ‚ÑŒ Ğ±ÑƒÑ‚Ğ¸ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ¸ ÑĞºĞ¾ÑÑ‚Ñ–
- [ ] Ğ’Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ñƒ

**ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸ Ğ´Ğ»Ñ Ğ¿Ğ¾ÑˆÑƒĞºÑƒ:**
```bash
# Ğ’ÑÑ– Ğ¿Ñ€Ğ¾Ñ†ĞµÑĞ¾Ñ€Ğ¸
ls backend/content-automation/src/processors/

# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ
grep -r "console.log\|logger" backend/content-automation/src/

# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ error handling
grep -r "catch\|error" backend/content-automation/src/
```

#### B. ĞĞ½Ğ°Ğ»Ñ–Ğ· Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ñ–Ğ¹Ğ½Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼
- [ ] Ğ©Ğ¾ ÑĞºÑ‰Ğ¾ LLM Ğ³ĞµĞ½ĞµÑ€ÑƒÑ” Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¸Ğ¹ JSON?
- [ ] Ğ©Ğ¾ ÑĞºÑ‰Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ·Ğ°Ğ½Ğ°Ğ´Ñ‚Ğ¾ ÑÑ…Ğ¾Ğ¶Ğ¸Ğ¹ Ğ½Ğ° Ğ´Ğ¶ĞµÑ€ĞµĞ»Ğ¾?
- [ ] Ğ©Ğ¾ ÑĞºÑ‰Ğ¾ ÑĞ°Ğ¹Ñ‚-Ğ´Ğ¶ĞµÑ€ĞµĞ»Ğ¾ Ğ·Ğ¼Ñ–Ğ½Ğ¸Ğ² ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ?

**Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ— Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ñ– Ğ´Ğ»Ñ:**
- Ğ”Ğ¾Ğ²Ğ¶Ğ¸Ğ½Ğ° Ñ‚ĞµĞºÑÑ‚Ñƒ (min/max)
- ĞœĞ¾Ğ²Ğ° (ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°)
- JSON ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
- Ğ£Ğ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ

#### C. ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ñƒ
- [ ] ĞšÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ·Ğ³ĞµĞ½ĞµÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ
- [ ] Ğ’Ğ°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² LLM
- [ ] Ğ§Ğ°Ñ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ
- [ ] ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ñ‚Ğ° Ñ—Ñ… Ñ‚Ğ¸Ğ¿Ğ¸

**ĞĞ¾Ñ‚Ğ°Ñ‚ĞºĞ¸ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ:** -

---

### 4.1 Create content validator

- [ ] Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ `src/processors/validator.ts`
- [ ] Ğ†Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ—:
  - Required fields Ğ¿Ñ€Ğ¸ÑÑƒÑ‚Ğ½Ñ–
  - Ğ”Ğ¾Ğ²Ğ¶Ğ¸Ğ½Ğ° Ñ‚ĞµĞºÑÑ‚Ñƒ Ğ² Ğ¼ĞµĞ¶Ğ°Ñ… Ğ½Ğ¾Ñ€Ğ¼Ğ¸
  - Ğ¢ĞµĞºÑÑ‚ ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¾Ñ Ğ¼Ğ¾Ğ²Ğ¾Ñ (Ğ´ĞµÑ‚ĞµĞºÑ‚ ĞºĞ¸Ñ€Ğ¸Ğ»Ğ¸Ñ†Ñ–)
  - SEO Ğ¿Ğ¾Ğ»Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ñ— Ğ´Ğ¾Ğ²Ğ¶Ğ¸Ğ½Ğ¸
- [ ] Ğ†Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºÑƒ ÑƒĞ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ñ–:
  - Hash ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ
  - ĞŸĞ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ Ğ· Ñ–ÑĞ½ÑƒÑÑ‡Ğ¸Ğ¼ Ğ² Strapi
- [ ] ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ‚Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ñ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ñ‚Ğ° warnings
- [ ] Ğ†Ğ½Ñ‚ĞµĞ³Ñ€ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ² pipeline Ğ¿ĞµÑ€ĞµĞ´ Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ”Ñ

**Ğ¤Ğ°Ğ¹Ğ»Ğ¸:**
- `backend/content-automation/src/processors/validator.ts`

**Validation result:**
```typescript
interface ValidationResult {
  valid: boolean;
  errors: string[];      // Critical - block publish
  warnings: string[];    // Non-critical - notify
}

// Validations
const validations = {
  shortDescription: { minLength: 100, maxLength: 300 },
  fullDescription: { minLength: 500, maxLength: 2000 },
  seoTitle: { maxLength: 60 },
  seoDescription: { maxLength: 160 },
};
```

**ĞĞ¾Ñ‚Ğ°Ñ‚ĞºĞ¸:** -

---

### 4.2 Create fuel economy calculator widget

- [ ] Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ `frontend/src/components/FuelCalculator.tsx`
- [ ] Ğ†Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ…ÑƒĞ½Ğ¾Ğº ĞµĞºĞ¾Ğ½Ğ¾Ğ¼Ñ–Ñ— Ğ·Ğ° EU Label:
  - Input: Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ğ¹ label, Ğ¿Ğ¾Ñ€Ñ–Ğ²Ğ½ÑĞ²Ğ°Ğ½Ğ¸Ğ¹ label, Ñ€Ñ–Ñ‡Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ³
  - Output: ĞµĞºĞ¾Ğ½Ğ¾Ğ¼Ñ–Ñ Ğ»Ñ–Ñ‚Ñ€Ñ–Ğ² Ñ‚Ğ° Ğ³Ñ€Ğ¾ÑˆĞµĞ¹
- [ ] Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ ÑĞ»Ğ°Ğ¹Ğ´ĞµÑ€ Ğ´Ğ»Ñ Ñ€Ñ–Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ³Ñƒ (5,000 - 50,000 ĞºĞ¼)
- [ ] ĞŸĞ¾ĞºĞ°Ğ·ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ñ‡Ğ°ÑÑ–
- [ ] Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºÑƒ ÑˆĞ¸Ğ½Ğ¸ (Ğ¾Ğ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ² sidebar)

**Ğ¤Ğ°Ğ¹Ğ»Ğ¸:**
- `frontend/src/components/FuelCalculator.tsx`
- `frontend/src/app/shyny/[slug]/page.tsx` (Ñ–Ğ½Ñ‚ĞµĞ³Ñ€ÑƒĞ²Ğ°Ñ‚Ğ¸)

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° ĞµĞºĞ¾Ğ½Ğ¾Ğ¼Ñ–Ñ—:**
```typescript
// EU Label fuel efficiency difference (L/100km)
const fuelDifference: Record<string, number> = {
  'A-B': 0.1,
  'A-C': 0.25,
  'A-D': 0.4,
  'A-E': 0.55,
  'B-C': 0.15,
  'B-D': 0.3,
  'B-E': 0.45,
  'C-D': 0.15,
  'C-E': 0.3,
  'D-E': 0.15,
};

// Ğ Ğ¾Ğ·Ñ€Ğ°Ñ…ÑƒĞ½Ğ¾Ğº
const liters = (annualKm / 100) * diff;
const money = liters * fuelPricePerLiter;
```

**UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ĞµĞºĞ¾Ğ½Ğ¾Ğ¼Ñ–Ñ— Ğ¿Ğ°Ğ»Ğ¸Ğ²Ğ°      â”‚
â”‚                                     â”‚
â”‚ Ğ Ñ–Ñ‡Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ³: [â•â•â•â•â•â•â•â—â•â•â•] 15,000 â”‚
â”‚                                     â”‚
â”‚ ĞŸĞ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ: A vs C                  â”‚
â”‚                                     â”‚
â”‚ ğŸ’§ Ğ•ĞºĞ¾Ğ½Ğ¾Ğ¼Ñ–Ñ: 38 Ğ» Ğ½Ğ° Ñ€Ñ–Ğº            â”‚
â”‚ ğŸ’° Ğ¦Ğµ 2,090 â‚´ Ñ‰Ğ¾Ñ€Ğ¾ĞºÑƒ!              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞĞ¾Ñ‚Ğ°Ñ‚ĞºĞ¸:** -

---

### 4.3 Add monitoring and logging

- [ ] Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ `src/utils/logger.ts` Ğ· structured logging
- [ ] Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ `src/utils/metrics.ts` Ğ´Ğ»Ñ Ğ·Ğ±Ğ¾Ñ€Ñƒ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº
- [ ] Ğ›Ğ¾Ğ³ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ²ÑÑ– Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ—:
  - Scraping: URLs, ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ items, Ñ‡Ğ°Ñ
  - LLM: Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚, Ñ‚Ğ¾ĞºĞµĞ½Ğ¸, Ğ²Ğ°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ, Ñ‡Ğ°Ñ
  - Publish: success/fail, Strapi ID
- [ ] Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ‚Ğ¸ Ğ»Ğ¾Ğ³Ğ¸ Ñƒ Ñ„Ğ°Ğ¹Ğ» `logs/automation.log`
- [ ] Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ‚Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ² SQLite
- [ ] Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ weekly summary Ğ² Telegram

**Ğ¤Ğ°Ğ¹Ğ»Ğ¸:**
- `backend/content-automation/src/utils/logger.ts`
- `backend/content-automation/src/utils/metrics.ts`
- `backend/content-automation/src/db/metrics.ts`

**Metrics schema:**
```sql
CREATE TABLE metrics (
    id INTEGER PRIMARY KEY,
    date DATE,
    tires_scraped INTEGER,
    tires_generated INTEGER,
    articles_generated INTEGER,
    tokens_used INTEGER,
    cost_usd REAL,
    errors_count INTEGER,
    execution_time_ms INTEGER
);
```

**Weekly summary:**
```
ğŸ“Š Ğ¢Ğ¸Ğ¶Ğ½ĞµĞ²Ğ¸Ğ¹ Ğ·Ğ²Ñ–Ñ‚
ğŸ“… 01.01.2025 - 07.01.2025

ğŸ“¦ ĞĞ¾Ğ²Ñ– ÑˆĞ¸Ğ½Ğ¸: 3
ğŸ“ ĞĞ¾Ğ²Ñ– ÑÑ‚Ğ°Ñ‚Ñ‚Ñ–: 2
ğŸ† Badges Ğ´Ğ¾Ğ´Ğ°Ğ½Ğ¾: 5

ğŸ’° Ğ’Ğ¸Ñ‚Ñ€Ğ°Ñ‚Ğ¸: $2.45
â± Ğ§Ğ°Ñ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ: 5 Ñ…Ğ² 23 ÑĞµĞº
âŒ ĞŸĞ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº: 0
```

**ĞĞ¾Ñ‚Ğ°Ñ‚ĞºĞ¸:** -

---

### 4.4 Implement deduplication system

- [ ] Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ `src/processors/deduplicator.ts`
- [ ] Ğ†Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ unique test ID (test_uid)
- [ ] Ğ†Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºÑƒ Ğ´ÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ‚Ñ–Ğ²:
  - ĞŸĞ¾ test_uid Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ñ–Ğ²
  - ĞŸĞ¾ tire_slug Ğ´Ğ»Ñ ÑˆĞ¸Ğ½
  - ĞŸĞ¾ content hash Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ
- [ ] Ğ†Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ update vs create Ğ»Ğ¾Ğ³Ñ–ĞºÑƒ:
  - Ğ¯ĞºÑ‰Ğ¾ Ñ–ÑĞ½ÑƒÑ” Ñ– Ğ´Ğ°Ğ½Ñ– Ğ·Ğ¼Ñ–Ğ½Ğ¸Ğ»Ğ¸ÑÑŒ â†’ update
  - Ğ¯ĞºÑ‰Ğ¾ Ñ–ÑĞ½ÑƒÑ” Ñ– Ğ´Ğ°Ğ½Ñ– Ñ‚Ñ– ÑĞ°Ğ¼Ñ– â†’ skip
  - Ğ¯ĞºÑ‰Ğ¾ Ğ½Ğµ Ñ–ÑĞ½ÑƒÑ” â†’ create
- [ ] Ğ†Ğ½Ñ‚ĞµĞ³Ñ€ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ² pipeline

**Ğ¤Ğ°Ğ¹Ğ»Ğ¸:**
- `backend/content-automation/src/processors/deduplicator.ts`
- `backend/content-automation/src/db/schema.sql` (Ğ¾Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸)

**Decision tree:**
```typescript
type DeduplicationAction = 'create' | 'update' | 'skip' | 'link_only';

async function checkDeduplication(item): Promise<DeduplicationAction> {
  const existing = await findExisting(item);
  if (!existing) return 'create';

  const hasArticle = await hasRelatedArticle(existing.id);
  if (!hasArticle) return 'create';

  const dataChanged = hashData(item) !== existing.dataHash;
  if (dataChanged) return 'update';

  return 'skip';
}
```

**ĞĞ¾Ñ‚Ğ°Ñ‚ĞºĞ¸:** -

---

### 4.5 Add error recovery and retry logic

- [ ] Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ `src/utils/retry.ts` Ğ· exponential backoff
- [ ] ĞĞ±Ğ³Ğ¾Ñ€Ğ½ÑƒÑ‚Ğ¸ Ğ²ÑÑ– API calls Ğ² retry:
  - LLM API (Claude)
  - Strapi API
  - Scraping requests
- [ ] Ğ†Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ circuit breaker Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ñ… ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²
- [ ] Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ graceful degradation:
  - Ğ¯ĞºÑ‰Ğ¾ LLM Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ â†’ skip generation, notify
  - Ğ¯ĞºÑ‰Ğ¾ Strapi Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ â†’ save to local, retry later
- [ ] Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ‚Ğ¸ failed jobs Ğ´Ğ»Ñ manual retry

**Ğ¤Ğ°Ğ¹Ğ»Ğ¸:**
- `backend/content-automation/src/utils/retry.ts`
- `backend/content-automation/src/utils/circuit-breaker.ts`
- `backend/content-automation/src/db/failed-jobs.ts`

**Retry config:**
```typescript
const retryConfig = {
  maxRetries: 3,
  initialDelayMs: 1000,
  maxDelayMs: 30000,
  backoffMultiplier: 2,
};

async function withRetry<T>(
  fn: () => Promise<T>,
  config = retryConfig
): Promise<T> {
  // exponential backoff implementation
}
```

**ĞĞ¾Ñ‚Ğ°Ñ‚ĞºĞ¸:** -

---

### 4.6 Create admin dashboard (optional)

- [ ] Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ `frontend/src/app/admin/automation/page.tsx`
- [ ] ĞŸĞ¾ĞºĞ°Ğ·ÑƒĞ²Ğ°Ñ‚Ğ¸ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ:
  - ĞšÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ·Ğ³ĞµĞ½ĞµÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ
  - Ğ’Ğ¸Ñ‚Ñ€Ğ°Ñ‚Ğ¸ Ğ·Ğ° Ğ¼Ñ–ÑÑÑ†ÑŒ
  - Ğ“Ñ€Ğ°Ñ„Ñ–Ğº Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ñ–
- [ ] ĞŸĞ¾ĞºĞ°Ğ·ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ– jobs Ñ‚Ğ° Ñ—Ñ… ÑÑ‚Ğ°Ñ‚ÑƒÑ
- [ ] Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ´Ğ»Ñ manual trigger
- [ ] Ğ—Ğ°Ñ…Ğ¸ÑÑ‚Ğ¸Ñ‚Ğ¸ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºÑƒ (basic auth Ğ°Ğ±Ğ¾ Strapi admin)

**Ğ¤Ğ°Ğ¹Ğ»Ğ¸:**
- `frontend/src/app/admin/automation/page.tsx` (Ğ½Ğ¾Ğ²Ğ¸Ğ¹)
- `frontend/src/lib/api/automation.ts` (Ğ½Ğ¾Ğ²Ğ¸Ğ¹)

**UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Content Automation Dashboard                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ Ğ¦ĞµĞ¹ Ğ¼Ñ–ÑÑÑ†ÑŒ:                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 12      â”‚ â”‚ 5       â”‚ â”‚ $8.50   â”‚ â”‚ 0       â”‚ â”‚
â”‚ â”‚ Ğ¨Ğ¸Ğ½     â”‚ â”‚ Ğ¡Ñ‚Ğ°Ñ‚ĞµĞ¹  â”‚ â”‚ Ğ’Ğ¸Ñ‚Ñ€Ğ°Ñ‚Ğ¸ â”‚ â”‚ ĞŸĞ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚ ĞÑÑ‚Ğ°Ğ½Ğ½Ñ– jobs:                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ âœ… 2025-01-07 03:00 - Weekly automation    â”‚  â”‚
â”‚ â”‚ âœ… 2025-01-06 - Manual: Potenza Sport      â”‚  â”‚
â”‚ â”‚ âŒ 2025-01-05 - Error: Strapi timeout     â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚ [ğŸ”„ Run Now] [ğŸ“‹ View Logs]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞĞ¾Ñ‚Ğ°Ñ‚ĞºĞ¸:** Ğ¦Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° Ğ¾Ğ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°, Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğ¸

---

### 4.7 Final testing and documentation

- [ ] ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ñ†Ğ¸ĞºĞ» Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ—:
  1. Scrape â†’ 2. Generate â†’ 3. Validate â†’ 4. Publish â†’ 5. Notify
- [ ] ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ Ğ²ÑÑ– edge cases:
  - ĞĞ¾Ğ²Ğ° Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ ÑˆĞ¸Ğ½Ğ¸
  - ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ° Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ
  - ĞĞ¾Ğ²Ğ¸Ğ¹ Ñ‚ĞµÑÑ‚
  - ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° API
- [ ] ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ README.md Ğ² content-automation
- [ ] Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ CLI
- [ ] ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ CLAUDE.md Ğ· Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ”Ñ Ğ¿Ñ€Ğ¾ automation
- [ ] ĞĞ°Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹ guide Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸

**Ğ¤Ğ°Ğ¹Ğ»Ğ¸:**
- `backend/content-automation/README.md` (ÑÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸/Ğ¾Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸)
- `CLAUDE.md` (Ğ¾Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸)

**README ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**
```markdown
# Content Automation System

## Quick Start
npm install
npm run start

## CLI Commands
npm run scrape
npm run generate
npm run publish
npm run full

## Configuration
Copy .env.example to .env and fill API keys

## Architecture
[diagram]

## Troubleshooting
Common issues and solutions
```

**ĞĞ¾Ñ‚Ğ°Ñ‚ĞºĞ¸:** -

---

## ĞŸÑ€Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ– Ñ„Ğ°Ğ·Ğ¸

Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ¹ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ñ– Ğ´Ñ–Ñ—:

1. ĞŸĞµÑ€ĞµĞºĞ¾Ğ½Ğ°Ğ¹ÑÑ, Ñ‰Ğ¾ Ğ²ÑÑ– Ğ·Ğ°Ğ´Ğ°Ñ‡Ñ– Ğ²Ñ–Ğ´Ğ¼Ñ–Ñ‡ĞµĞ½Ñ– [x]
2. Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ¹ Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ end-to-end Ñ‚ĞµÑÑ‚:
   ```bash
   cd backend/content-automation

   # Full automation cycle
   npm run full

   # Check logs
   cat logs/automation.log | tail -50

   # Check metrics
   sqlite3 data/content.db "SELECT * FROM metrics ORDER BY date DESC LIMIT 5"

   # Verify in Strapi
   open http://localhost:1337/admin

   # Verify on frontend
   open http://localhost:3010
   ```
3. Ğ—Ğ¼Ñ–Ğ½Ğ¸ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ñ„Ğ°Ğ·Ğ¸ Ğ½Ğ° "Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°"
4. Ğ—Ğ°Ğ¿Ğ¾Ğ²Ğ½Ğ¸ Ğ´Ğ°Ñ‚Ñƒ "Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°: YYYY-MM-DD"
5. Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ¹ Ñ„Ñ–Ğ½Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ¼Ñ–Ñ‚:
   ```bash
   git add .
   git commit -m "checklist(content-automation): phase-4 quality polish completed

   - Add content validator
   - Create fuel economy calculator
   - Add monitoring and logging
   - Implement deduplication system
   - Add error recovery with retry
   - Final testing and documentation

   Content Automation System is now complete!"
   ```
6. ĞĞ½Ğ¾Ğ²Ğ¸ PROGRESS.md:
   - ĞŸĞ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ° Ñ„Ğ°Ğ·Ğ°: COMPLETED
   - Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Phase 4: âœ… Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°
   - Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑ: 28/28 (100%)
7. Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸ release commit:
   ```bash
   git tag -a v1.0.0-content-automation -m "Content Automation System v1.0"
   ```

---

## ğŸ‰ ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾!

### Ğ©Ğ¾ Ğ±ÑƒĞ»Ğ¾ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾:
- âœ… ProKoleso scraper
- âœ… ADAC/AutoBild test scrapers
- âœ… LLM content generator (Claude)
- âœ… Badge assignment system
- âœ… Strapi publisher
- âœ… Telegram notifications
- âœ… Cron scheduler
- âœ… Content validator
- âœ… Monitoring & logging
- âœ… UI improvements (contrast, badges, EU labels)

### ĞĞ°ÑÑ‚ÑƒĞ¿Ğ½Ñ– ĞºÑ€Ğ¾ĞºĞ¸:
1. ĞœĞ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ñƒ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸ Ğ¿Ñ€Ğ¾Ñ‚ÑĞ³Ğ¾Ğ¼ 2-4 Ñ‚Ğ¸Ğ¶Ğ½Ñ–Ğ²
2. Ğ—Ğ±Ğ¸Ñ€Ğ°Ñ‚Ğ¸ feedback Ğ²Ñ–Ğ´ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸
3. ĞĞ¿Ñ‚Ğ¸Ğ¼Ñ–Ğ·ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ¸ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñ– ÑĞºĞ¾ÑÑ‚Ñ– ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ
4. Ğ Ğ¾Ğ·Ğ³Ğ»ÑĞ½ÑƒÑ‚Ğ¸ Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºĞ¾Ğ²Ñ– Ğ´Ğ¶ĞµÑ€ĞµĞ»Ğ° Ğ´Ğ°Ğ½Ğ¸Ñ…
